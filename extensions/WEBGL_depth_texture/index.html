<!--AUTOGENERATED FILE - DO NOT EDIT - SEE Makefile--><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>WebGL WEBGL_depth_texture Extension Draft Specification</title>
<link rel="alternate" type="text/xml" href="extension.xml">
<link rel="stylesheet" type="text/css" href="../../resources/Khronos-WD.css">
</head>
<body>
<!--begin-logo--><div class="left"><a href="http://webgl.org/"><img alt="WebGL" height="72" src="../../resources/WebGL-Logo.png" width="156"></a></div>
<div class="right"><a href="http://khronos.org/"><img alt="Khronos" height="60" src="../../resources/KhronosGroup-3D.png" width="220"></a></div>
<div style="clear: both;"></div>
<br><!--end-logo--><h1>WebGL WEBGL_depth_texture Extension Draft Specification</h1>
<h2 class="no-toc">Name</h2>
<p>WEBGL_depth_texture</p>
<h2 class="no-toc">Contact</h2>
<p>
    <a href="https://www.khronos.org/webgl/public-mailing-list/">WebGL working group</a> (public_webgl 'at' khronos.org)
  </p>
<h2 class="no-toc">Contributors</h2>
<p>Members of the WebGL working group</p>
<p>Florian BÃ¶sch (pyalot 'at' gmail.com)</p>
<h2 class="no-toc">Version</h2>
<p> Last modified date: June 04, 2012<br>
          Revision: 6</p>
<h2 class="no-toc">Number</h2>
<p> WebGL extension #9</p>
<h2 class="no-toc">Dependencies</h2>
    <p> Written against the <a href="http://www.khronos.org/registry/webgl/specs/1.0/">WebGL API 1.0</a> specification. </p>
  <h2 class="no-toc">Overview</h2>
    <p>This extension exposes the <a href="http://angleproject.googlecode.com/svn/trunk/extensions/ANGLE_depth_texture.txt">ANGLE_depth_texture</a> functionality to WebGL. ANGLE_depth_texture is similar to <a href="http://www.khronos.org/registry/gles/extensions/OES/OES_depth_texture.txt">OES_depth_texture</a>, but imposes certain restrictions for portability reasons. In particular, it does not support loading image data via the TexImage or TexSubImage commands. Depth textures created via this extension can only have their contents specified by rendering to them. Consult the Errors section below for specific restrictions.</p>
    <p> When this extension is enabled: </p>
<ul>
<li>
        The <code>texImage2D</code> and <code>texSubImage2D</code> entry points are extended to accept the <code>format</code> parameter <code>DEPTH_COMPONENT</code>
      </li>
<li>
        The <code>texImage2D</code> entry point is extended to accept the <code>internalFormat</code> parameter <code>DEPTH_COMPONENT</code>
      </li>
<li>
        The <code>texImage2D</code> and <code>texSubImage2D</code> entry points are extended to accept the <code>type</code> parameter <code>UNSIGNED_SHORT</code> and <code>UNSIGNED_INT</code>
      </li>
<li>
        The <code>framebufferTexture2D</code> entry point is extended to accept a <code>target</code> parameter <code>DEPTH_ATTACHMENT</code>
      </li>
<li>
        The <code>texImage2D</code> and <code>texSubImage2D</code> entry points are extended to accept <code>ArrayBufferView</code> of type <code>Uint16Array</code> and <code>Uint32Array</code>
      </li>
</ul>
  <h2 class="no-toc">Alias Name Strings (for draft extensions)</h2>
<ul>
<li>WEBKIT_WEBGL_depth_texture</li>
<li>MOZ_WEBGL_depth_texture</li>
</ul>
<h2 class="no-toc">IDL</h2>
<p><pre class="idl">
interface WEBGL_depth_texture {
};
  </pre></p>
<h2 class="no-toc">Errors</h2>
<p>
      The error <code>INVALID_OPERATION</code> is generated if the <code>format</code> parameter is is <code>DEPTH_COMPONENT</code> and the <code>target</code> is <code>TEXTURE_CUBE_MAP_{POSITIVE,NEGATIVE}_{X,Y,Z}</code>.
    </p>
<p>
      The error INVALID_OPERATION is generated by TexImage2D if <code>format</code> and <code>internalformat</code> are DEPTH_COMPONENT and <code>type</code> is not UNSIGNED_SHORT, or UNSIGNED_INT.
    </p>
<p>
      The error INVALID_OPERATION is generated by TexSubImage2D if <code>format</code> is DEPTH_COMPONENT and <code>type</code> is not UNSIGNED_SHORT, or UNSIGNED_INT.
    </p>
<p>
      The error INVALID_OPERATION is generated by TexImage2D if <code>format</code> and <code>internalformat</code> are not DEPTH_COMPONENT and <code>type</code> is UNSIGNED_SHORT, or UNSIGNED_INT.
    </p>
<p>
      The error INVALID_OPERATION is generated by TexSubImage2D if <code>format</code> is not DEPTH_COMPONENT and <code>type</code> is UNSIGNED_SHORT, or UNSIGNED_INT.
    </p>
<p>
      The error INVALID_OPERATION is generated in the following situations:
      <ul>
      <li> texImage2D is called with <code>format</code> and <code>internalformat</code> of DEPTH_COMPONENT and
        <ul>
        <li> <code>target</code> is not TEXTURE_2D, or </li>
        <li> <code>data</code> is not NULL </li>.
        </ul> </li>
      <li> texSubImage2D is called with <code>format</code> of DEPTH_COMPONENT. </li>
      <li> copyTexImage2D is called with an <code>internalformat</code> that has a base internal format of DEPTH_COMPONENT. </li>
      <li> copyTexSubImage2D is called with a target texture that has a base internal format of DEPTH_COMPONENT. </li>
      <li> generateMipmap is called on a texture that has a base internal format of DEPTH_COMPONENT. </li>
      </ul>
    </p>
<h2 class="no-toc">Revision History</h2>
<p>Revision 1, 2012/01/23</p>
<ul><li>Initial revision.</li></ul>
<p>Revision 2, 2012/01/25</p>
<ul><li>Added provisions to exclude cube depth textures.</li></ul>
<p>Revision 3, 2012/02/06</p>
<ul><li>Changed referenced WebGL API version from 2.0 to 1.0</li></ul>
<p>Revision 4, 2012/02/24</p>
<ul><li>Removed the enumerants from the IDL which are contained in the context and added aliases to the extension name</li></ul>
<p>Revision 5, 2012/03/01</p>
<ul><li>
        Renamed with OES prefix and removed the addendum due to expected harmonization between OES_depth_texture and ARB_depth_texture
        (depth cube maps).
      </li></ul>
<p>Revision 6, 2012/06/04</p>
<ul><li>
        Renamed to WEBGL prefix, and changed to reference ANGLE_depth_texture, because of
        limitations preventing the current ANGLE library from loading of image data to depth
        textures. Incorporated errors from ANGLE_depth_texure extension specification.
      </li></ul>
</body>
</html>
