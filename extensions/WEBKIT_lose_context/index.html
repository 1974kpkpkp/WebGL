<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
        "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <title>WebGL WEBKIT_lose_context Extension Specification</title>
    <link rel="stylesheet" type="text/css" href="../../resources/webgl-extension.css" />
    <link rel="stylesheet" type="text/css" href="../../resources/default.css" />
    <script src="../../resources/jquery-1.3.2.min.js" type="text/javascript"></script>
</head>
    <!--begin-logo-->
    <div>
      <a href="http://webgl.org/"><img alt=WebGL height=72 src="../../resources/WebGL-Logo.png" width=156></a>
      <div class=right>
	<a href="http://khronos.org/"><img alt=Khronos height=60 src="../../resources/KhronosGroup-3D.png" width=220></a>
      </div>
    </div>
    <!--end-logo-->
    
    <h1>WebGL WEBKIT_lose_context Extension Draft Specification</h1>
    
    <h2 class="no-toc">Name</h2>
    <p> WEBKIT_lose_context </p>

    <h2 class="no-toc">Contact</h2>
    <p> <a href="mailto:enne@chromium.org">enne@chromium.org</a> </p>

    <h2 class="no-toc">Contributors</h2>
    <p> Members of the <a href="https://www.khronos.org/webgl/public-mailing-list/">WebGL working group</a> </p>
    <p> Glenn Maynard </p>

    <h2 class="no-toc">Status</h2>
    <p> Draft; revision underway. Do not ship!
    </p>

    <h2 class="no-toc">Version</h2>
    <p> Last modified date: April 14, 2011 <br>
        Revision: 2
    </p>

    <h2 class="no-toc">Number</h2>
    <p> WebGL extension #3 </p>

    <h2 class="no-toc">Dependencies</h2>
    <p> Written against the WebGL API 1.0 specification. </p>

    <h2 class="no-toc">Overview</h2>
    <p>
      This extension exposes new functions which simulate losing and restoring the WebGL context, even on platforms where the context can never be lost.  Consult the WebGL specification for documentation about the <code>webglcontextlost</code> and <code>webglcontextrestored</code> events.
    </p>
    <h2 class="no-toc">IDL</h2>
    <p>
<pre class="idl">
module webgl {

interface WEBKIT_lose_context {
      void loseContext();
      void restoreContext();
};

};
</pre>
    </p>

    <h2 class="no-toc">New Procedures and Functions</h2>
    <h3 class="no-toc">void loseContext()</h3>
    <p>
    When this function is called and the context is not lost, a <code>webglcontextlost</code> event will be dispatched.  The behavior of the WebGL context after this event has been dispatched is identical to one after a real context lost event.  The context will remain in the lost state according to the WebGL specification until <code>restoreContext()</code> is called.  If the context is already lost when this function is called, an <code>INVALID_OPERATION</code> error will be generated and no event will be dispatched.
    </p>
    <h3 class="no-toc">void restoreContext()</h3>
    <p>
    When this function is called, the context is lost, and the conditions defined by the WebGL specification for delivery of the <code>webglcontextrestored</code> event have been satisfied, a <code>webglcontextrestored</code> event will be dispatched.  The behavior of the WebGL context after this event has been dispatched is identical to one after a real context restored event.  If the context is already restored when this function is called, or if the conditions in the WebGL specification for delivery of the <code>webglcontextrestored</code> event are not satisfied, an <code>INVALID_OPERATION</code> error will be generated and no event will be dispatched.
    </p>

    <h2 class="no-toc">Revision History</h2>
    <p>
      Revision 1, 2011/01/11
      <ul>
      <li> Initial revision.
      </ul>
    </p>
    <p>
      Revision 2, 2011/04/14
      <ul>
      <li> Added explicit restoreContext() method based on discussion on public_webgl list, to enable testing of scenario where context stays lost for a period of time.
      </ul>
    </p>
</body>
</html>
